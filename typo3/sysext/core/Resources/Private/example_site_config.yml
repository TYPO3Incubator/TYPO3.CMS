routingEnhancers:
  - type: PluginEnhancer
    routePath: '/forgotpw/{user}/{hash}'
    namespace: 'tx_felogin_pi1'
    requirements:
      user: '[0-9]+'
      hash: '^[a-zA-Z0-9]{32}$'
  - type: ExtbasePluginEnhancer
    vendor: 'GeorgRinger'
    extension: 'News'
    plugin: 'Pi1'
    routes:
    - { routePath: '/{blog_name}/{page}', '_controller': 'News::benni' }
    - { routePath: '/detail/{news_title}', '_controller': 'News::detail', '_arguments': {'news_title': 'news'} }
    - { routePath: '/archive/{year}/{month}', '_controller': 'News::archive' }
    - { routePath: '/list-all-the-news/', '_controller': 'News::list' }
    - { routePath: '/list-test/{news_title}', '_controller': 'News::list', '_arguments': {'news_title': 'news'}}
    - { routePath: '/list/{paging_widget}', '_controller': 'News::list', '_arguments': {'paging_widget': '@widget_0/currentPage'}}
    - { routePath: '/tag/{tag_name}', '_controller': 'News::list', '_arguments': {'tag_name': 'overwriteDemand/tags'}}
    defaultController: 'News::list'
    defaults:
      page: '0'
    requirements:
      page: '[0-9]+'
      paging_widget: '\d+'
    aspects:
      # Placeholder Name
      news_title:
        type: PersistedAliasMapper
        tableName: 'tx_news_domain_model_news'
        routeFieldName: 'path_segment'
        valueFieldName: 'uid'
        routeValuePrefix: '/'
      tag_name:
        type: PersistedAliasMapper
        tableName: 'tx_news_domain_model_tag'
        routeFieldName: 'title'
        valueFieldName: 'uid'
      year:
        type: StaticValueMapper
        map:
          2k17: '2017'
          2k18: '2018'
          next: '2019'
      month:
        type: StaticValueMapper
        map:
          Jan: '01'
          Feb: '02'
          Mar: '03'
        localeMap:
          - locale: 'en_US.*|en_GB.*'
            map:
              January: '01'
              February: '02'
              March: '03'
          - locale: 'de_DE.*'
            map:
              Januar: '01'
              Februar: '02'
              MÃ¤rz: '03'
      blog_name:
        type: LocaleModifier
        default: 'some-news'
        localeMap:
          - locale: 'en_US.*|en_GB.*'
            value: 'article'
          - locale: 'de_DE.*'
            value: 'beitrag'
  - type: PageTypeEnhancer
    routePath: '{type}'
    defaults:
      type: '.html'
    requirements:
      type: '.json|.html'
